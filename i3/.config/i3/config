# https://i3wm.org/docs/userguide.html 

###########
#VARIABLES#
###########
set $mod Mod4

########
#CONFIG#
########
#polkit
exec --no-startup-id /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 & eval $(gnome-keyring-daemon -s --components=pkcs11,secrets,ssh,gpg) &
#numlock
exec --no-startup-id numlockx on


#######
#FONTS#
#######
font pango:monospace 8


######
#GAPS#
######
gaps inner 5
bindsym $mod+o gaps inner current minus 5
bindsym $mod+p gaps inner current plus 5
smart_gaps on
smart_borders on
for_window [class="^.*"] border pixel 0


# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

##########
#KEYBOARD#
##########
bindsym $mod+Return exec tilix
bindsym $mod+Shift+a kill
bindsym $mod+f fullscreen toggle
bindsym $mod+d exec rofi -show drun -font "Arial 14.1" -show-icons

#Focus
bindsym $mod+j focus left
bindsym $mod+k focus down
bindsym $mod+l focus up
bindsym $mod+m focus right

bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

bindsym $mod+space focus mode_toggle
bindsym $mod+q focus parent

#Move
bindsym $mod+Shift+j move left
bindsym $mod+Shift+k move down
bindsym $mod+Shift+l move up
bindsym $mod+Shift+m move right

bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

#Orientation split
bindsym $mod+h split h
bindsym $mod+v split v

#Container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+z layout tabbed
bindsym $mod+e layout toggle split
bindsym $mod+Shift+space floating toggle

#Workspaces
bindsym $mod+ampersand workspace 1; exec "~/.config/i3/autorun.py 1"
bindsym $mod+eacute workspace 2; exec "~/.config/i3/autorun.py 2"
bindsym $mod+quotedbl workspace 3; exec "~/.config/i3/autorun.py 3"
bindsym $mod+apostrophe workspace 4; exec "~/.config/i3/autorun.py 4"
bindsym $mod+parenleft workspace 5
bindsym $mod+minus workspace 6
bindsym $mod+egrave workspace 7
bindsym $mod+underscore workspace 8
bindsym $mod+ccedilla workspace 9
bindsym $mod+agrave workspace 10; exec "~/.config/i3/autorun.py 10"

# move to workspace
bindsym $mod+Shift+ampersand move container to workspace 1
bindsym $mod+Shift+eacute move container to workspace 2
bindsym $mod+Shift+quotedbl move container to workspace 3
bindsym $mod+Shift+apostrophe move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+minus move container to workspace 6
bindsym $mod+Shift+egrave move container to workspace 7
bindsym $mod+Shift+underscore move container to workspace 8
bindsym $mod+Shift+ccedilla move container to workspace 9
bindsym $mod+Shift+agrave move container to workspace 10

#Reload configuration
bindsym $mod+Shift+c reload
bindsym $mod+Shift+r restart
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'Se déconnecter?' -b 'Oui' 'i3-msg exit'"

#############
#RESIZE MODE#
#############
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.
        bindsym j resize shrink width 5 px or 5 ppt
        bindsym k resize grow height 5 px or 5 ppt
        bindsym l resize shrink height 5 px or 5 ppt
        bindsym m resize grow width 5 px or 5 ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 5 px or 5 ppt
        bindsym Down resize grow height 5 px or 5 ppt
        bindsym Up resize shrink height 5 px or 5 ppt
        bindsym Right resize grow width 5 px or 5 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"

# Pulse Audio controls
bindsym $mod+XF86AudioRaiseVolume exec pactl set-sink-volume 0 +5% 
bindsym $mod+XF86AudioLowerVolume exec pactl set-sink-volume 0 -5%
bindsym $mod+XF86AudioMute exec pactl set-sink-mute 0 toggle 
bindsym XF86AudioMute exec pactl set-sink-mute 0 toggle 

#mpd controls
bindsym XF86AudioRaiseVolume exec mpc volume +5
bindsym XF86AudioLowerVolume exec mpc volume -5 
bindsym XF86AudioPlay exec mpc toggle
bindsym XF86AudioStop exec mpc stop
bindsym XF86AudioPrev exec mpc prev
bindsym XF86AudioNext exec mpc next

#########
#AUTORUN#
#########
exec_always --no-startup-id "killall polybar; polybar -r top"
exec_always --no-startup-id "feh --bg-scale ~/.config/i3/bg.jpg"
exec compton
exec kalu #notif updates
exec mpd
exec mpc pause
exec guake


###############
#WINDOW ASSIGN#
###############
assign [class="Firefox|Firefox-esr"] 1
assign [class="Thunderbird"] 2
assign [class="discord"] 4
assign [class="Clementine|cantata"] 10

for_window [class="Yad"] floating enable
